<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carnicería Delicias a tu Diestra - La Mejor Carne de la Ciudad</title>
    <meta name="description"
        content="Ofrecemos los cortes más frescos y de mejor calidad. Pollo, res, cerdo y embutidos artesanales con entrega a domicilio.">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- Logo -->
                <div class="logo">
                    <div class="logo-icon">
                        <img src="img/logoCarniceria.png" alt="Logo Carnicería Delicias" class="logo-image">
                    </div>
                    <span class="logo-text">Carnicería Delicias a tu Diestra</span>
                </div>

                <!-- Navigation -->
                <nav class="nav">
                    <ul class="nav-list">
                        <li><a href="#inicio" class="nav-link active">Inicio</a></li>
                        <li><a href="catalogo.html" class="nav-link">Catálogo</a></li>
                        <li><a href="#" class="nav-link" id="carrito-link">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="carrito-badge" id="carrito-badge">3</span>
                            </a></li>
                        
                        <!-- Usuario logueado (se muestra cuando está logueado) -->
                        <li class="nav-user-logged" id="nav-user-logged" style="display: flex;">
                            <div class="user-dropdown">
                                <button class="user-button" id="user-button">
                                    <i class="fas fa-user-circle"></i>
                                    <span id="user-name">Juan Pérez</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="user-menu" id="user-menu">
                                    <a href="#" class="user-menu-item" id="user-profile">
                                        <i class="fas fa-user"></i>
                                        Mi Perfil
                                    </a>
                                    <a href="#" class="user-menu-item" id="user-orders">
                                        <i class="fas fa-shopping-bag"></i>
                                        Mis Pedidos
                                    </a>
                                    <a href="#" class="user-menu-item" id="user-admin" style="display: none;">
                                        <i class="fas fa-cogs"></i>
                                        Administración
                                    </a>
                                    <a href="transformacion.html" class="user-menu-item" id="user-transformaciones" style="display: none;">
                                        <i class="fas fa-exchange-alt"></i>
                                        Transformaciones
                                    </a>
                                    <div class="user-menu-divider"></div>
                                    <a href="#" class="user-menu-item" id="user-logout">
                                        <i class="fas fa-sign-out-alt"></i>
                                        Cerrar Sesión
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>

                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="hero-background">
            <div class="hero-overlay"></div>
        </div>
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">¡Bienvenido de vuelta, Juan!</h1>
                <p class="hero-subtitle">Continúa disfrutando de los cortes más frescos y de mejor calidad. Pollo, res, cerdo y
                    embutidos artesanales.</p>
                <div class="hero-buttons">
                    <a href="catalogo.html" class="btn btn-primary btn-large">Ver Catálogo</a>
                    <a href="carrito.html" class="btn btn-secondary btn-large">
                        <i class="fas fa-shopping-cart"></i> Ver Carrito (3)
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Categorías Section -->
    <section class="categorias" id="categorias">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Nuestras Categorías</h2>
                <p class="section-subtitle">Encuentra los mejores productos para tu mesa</p>
            </div>
            <div class="categorias-grid">
                <!-- Pollo -->
                <div class="categoria-card" data-categoria="Pollo" onclick="filtrarPorCategoria('Pollo')">
                    <div class="categoria-imagen">
                        <img src="https://images.unsplash.com/photo-1604503468506-a8da13d82791?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                            alt="Pollo fresco">
                    </div>
                    <div class="categoria-icono">
                        <i class="fas fa-drumstick-bite"></i>
                    </div>
                    <h3 class="categoria-titulo">Pollo</h3>
                    <p class="categoria-subtitulo">Pollo fresco de granja</p>
                </div>

                <!-- Carne de Res -->
                <div class="categoria-card" data-categoria="Res" onclick="filtrarPorCategoria('Res')">
                    <div class="categoria-imagen">
                        <img src="https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                            alt="Carne de res">
                    </div>
                    <div class="categoria-icono">
                        <i class="fas fa-hamburger"></i>
                    </div>
                    <h3 class="categoria-titulo">Carne de Res</h3>
                    <p class="categoria-subtitulo">Los mejores cortes de res</p>
                </div>

                <!-- Carne de Cerdo -->
                <div class="categoria-card" data-categoria="Cerdo" onclick="filtrarPorCategoria('Cerdo')">
                    <div class="categoria-imagen">
                        <img src="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                            alt="Carne de cerdo">
                    </div>
                    <div class="categoria-icono">
                        <i class="fas fa-bacon"></i>
                    </div>
                    <h3 class="categoria-titulo">Carne de Cerdo</h3>
                    <p class="categoria-subtitulo">Cerdo de primera calidad</p>
                </div>

                <!-- Embutidos -->
                <div class="categoria-card" data-categoria="Embutidos" onclick="filtrarPorCategoria('Embutidos')">
                    <div class="categoria-imagen">
                        <img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
                            alt="Embutidos">
                    </div>
                    <div class="categoria-icono">
                        <i class="fas fa-sausage"></i>
                    </div>
                    <h3 class="categoria-titulo">Embutidos</h3>
                    <p class="categoria-subtitulo">Embutidos artesanales</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Productos Destacados Section -->
    <section class="productos-destacados" id="productos-destacados">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Productos Destacados</h2>
                <p class="section-subtitle">Nuestras mejores ofertas de la semana</p>
            </div>
            <div class="productos-grid" id="productos-grid">
                <!-- Los productos se cargarán dinámicamente -->
            </div>
            <div class="section-footer">
                <a href="catalogo.html" class="btn btn-primary btn-large">Ver Todos los Productos</a>
            </div>
        </div>
    </section>

    <!-- Por qué Elegirnos Section -->
    <section class="por-que-elegirnos" id="por-que-elegirnos">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">¿Por qué Elegirnos?</h2>
                <p class="section-subtitle">Compromiso con la calidad y frescura</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <h3 class="feature-title">100% Fresco</h3>
                    <p class="feature-description">Todos nuestros productos llegan frescos diariamente de granjas
                        locales certificadas.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="feature-title">Calidad Garantizada</h3>
                    <p class="feature-description">Garantizamos la más alta calidad en todos nuestros productos con
                        certificaciones de sanidad.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <h3 class="feature-title">Entrega Rápida</h3>
                    <p class="feature-description">Entregamos a domicilio en tiempo récord manteniendo la frescura de
                        nuestros productos.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta" id="cta">
        <div class="container">
            <div class="cta-content">
                <h2 class="cta-title">¿Listo para tu Próximo Pedido?</h2>
                <p class="cta-description">Continúa disfrutando de los mejores cortes de carne con entrega a
                    domicilio.</p>
                <div class="cta-buttons">
                    <a href="catalogo.html" class="btn btn-secondary btn-large">Explorar Catálogo</a>
                    <a href="carrito.html" class="btn btn-outline btn-large">
                        <i class="fas fa-shopping-cart"></i> Ver Carrito
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <div class="logo-icon">
                            <img src="img/logoCarniceria.png" alt="Logo Carnicería Delicias" class="logo-image">
                        </div>
                        <span class="logo-text">Carnicería Delicias a tu Diestra</span>
                    </div>
                    <p class="footer-description">Los mejores cortes de carne fresca, pollo, cerdo y embutidos de la más
                        alta calidad.</p>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Productos</h3>
                    <ul class="footer-links">
                        <li><a href="catalogo.html?categoria=res">Pollo</a></li>
                        <li><a href="catalogo.html?categoria=res">Carne de Res</a></li>
                        <li><a href="catalogo.html?categoria=cerdo">Carne de Cerdo</a></li>
                        <li><a href="catalogo.html?categoria=embutidos">Embutidos</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Enlaces</h3>
                    <ul class="footer-links">
                        <li><a href="catalogo.html">Catálogo</a></li>
                        <li><a href="carrito.html">Carrito</a></li>
                        <li><a href="#perfil">Mi Cuenta</a></li>
                        <li><a href="#admin">Administrador</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Contacto</h3>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> +57 321 123 4567</p>
                        <p><i class="fas fa-envelope"></i> info@carniceria.com</p>
                        <p><i class="fas fa-map-marker-alt"></i> Carrera 26 # 28 - 02, Palmira, Valle - Colombia</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Carnicería Delicias a tu Diestra. Todos los derechos reservados.</p>
                <p class="scripture">"Delicias a tu diestra" - Salmos 16:11</p>
            </div>
        </div>
    </footer>

    <!-- Modal de Carrito -->
    <div class="modal" id="carrito-modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2><i class="fas fa-shopping-cart"></i> Carrito de Compras</h2>
                <button class="modal-close" id="close-carrito-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="carrito-content">
                <!-- El contenido del carrito se cargará dinámicamente -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script>
        // Simular usuario logueado para el prototipo
        document.addEventListener('DOMContentLoaded', function() {
            // Simular carrito con productos
            const carritoPrototipo = [
                {
                    id_producto: 1,
                    nombre: "Pechuga de Pollo",
                    precio_unitario: 8500,
                    cantidad: 2,
                    unidad_medida: "kg",
                    imagen_url: "https://images.unsplash.com/photo-1604503468506-a8da13d82791?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80"
                },
                {
                    id_producto: 2,
                    nombre: "Lomo de Res",
                    precio_unitario: 25000,
                    cantidad: 1,
                    unidad_medida: "kg",
                    imagen_url: "https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80"
                }
            ];
            
            // Guardar carrito en localStorage
            localStorage.setItem('carrito', JSON.stringify(carritoPrototipo));
            
            // Simular usuario logueado
            const usuarioPrototipo = {
                id: 1,
                nombre: 'Juan',
                apellido: 'Pérez',
                email: 'juan@email.com',
                tipo_documento: 'CC',
                numero_documento: '12345678',
                direccion: 'Calle 123 #45-67',
                telefono: '+57 300 123 4567',
                rol: 'cliente'
            };
            
            localStorage.setItem('usuario', JSON.stringify(usuarioPrototipo));
            
            // Actualizar el carrito global
            if (typeof carrito !== 'undefined') {
                carrito = carritoPrototipo;
            }
            
            // Actualizar badge del carrito
            const badge = document.getElementById('carrito-badge');
            if (badge) {
                const totalItems = carritoPrototipo.reduce((total, item) => total + item.cantidad, 0);
                badge.textContent = totalItems;
                badge.style.display = totalItems > 0 ? 'inline' : 'none';
            }
            
            // Configurar eventos del dropdown de usuario
            const userButton = document.getElementById('user-button');
            const userMenu = document.getElementById('user-menu');
            
            if (userButton && userMenu) {
                userButton.addEventListener('click', () => {
                    userMenu.classList.toggle('show');
                });
                
                // Cerrar dropdown al hacer clic fuera
                document.addEventListener('click', (e) => {
                    if (!userButton.contains(e.target) && !userMenu.contains(e.target)) {
                        userMenu.classList.remove('show');
                    }
                });
            }
            
            // Configurar modal del carrito
            const carritoLink = document.getElementById('carrito-link');
            const carritoModal = document.getElementById('carrito-modal');
            const closeCarritoModal = document.getElementById('close-carrito-modal');
            
            if (carritoLink && carritoModal) {
                carritoLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    carritoModal.classList.add('show');
                    renderizarCarritoPrototipo();
                });
            }
            
            if (closeCarritoModal && carritoModal) {
                closeCarritoModal.addEventListener('click', () => {
                    carritoModal.classList.remove('show');
                });
            }
            
            // Cerrar modal al hacer clic fuera
            if (carritoModal) {
                carritoModal.addEventListener('click', (e) => {
                    if (e.target === carritoModal) {
                        carritoModal.classList.remove('show');
                    }
                });
            }
        });
        
        function renderizarCarritoPrototipo() {
            const carritoContent = document.getElementById('carrito-content');
            if (!carritoContent) return;
            
            const carritoPrototipo = JSON.parse(localStorage.getItem('carrito')) || [];
            
            if (carritoPrototipo.length === 0) {
                carritoContent.innerHTML = `
                    <div class="carrito-vacio">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>Tu carrito está vacío</h3>
                        <p>Agrega algunos productos deliciosos</p>
                    </div>
                `;
                return;
            }
            
            carritoContent.innerHTML = carritoPrototipo.map(item => `
                <div class="carrito-item">
                    <div class="carrito-item-imagen">
                        <img src="${item.imagen_url}" alt="${item.nombre}">
                    </div>
                    <div class="carrito-item-info">
                        <h4 class="carrito-item-nombre">${item.nombre}</h4>
                        <p class="carrito-item-precio">$${item.precio_unitario.toLocaleString()}/${item.unidad_medida}</p>
                        <div class="carrito-item-cantidad">
                            <button class="cantidad-btn" onclick="actualizarCantidadPrototipo(${item.id_producto}, ${item.cantidad - 1})">-</button>
                            <input type="number" class="cantidad-input" value="${item.cantidad}" min="1" 
                                   onchange="actualizarCantidadPrototipo(${item.id_producto}, parseInt(this.value))">
                            <button class="cantidad-btn" onclick="actualizarCantidadPrototipo(${item.id_producto}, ${item.cantidad + 1})">+</button>
                        </div>
                    </div>
                    <div class="carrito-item-acciones">
                        <div class="carrito-item-subtotal">$${(item.precio_unitario * item.cantidad).toLocaleString()}</div>
                        <button class="btn btn-secondary btn-sm" onclick="eliminarDelCarritoPrototipo(${item.id_producto})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('') + `
                <div class="carrito-total">
                    <span>Total:</span>
                    <span>$${obtenerTotalCarritoPrototipo().toLocaleString()}</span>
                </div>
                <div class="carrito-acciones">
                    <button class="btn btn-secondary" onclick="limpiarCarritoPrototipo()">
                        <i class="fas fa-trash-alt"></i> Limpiar Carrito
                    </button>
                    <button class="btn btn-primary" onclick="window.location.href='checkout.html'">
                        <i class="fas fa-credit-card"></i> Proceder al Pago
                    </button>
                </div>
            `;
        }
        
        function actualizarCantidadPrototipo(productoId, nuevaCantidad) {
            let carritoPrototipo = JSON.parse(localStorage.getItem('carrito')) || [];
            const item = carritoPrototipo.find(item => item.id_producto === productoId);
            
            if (item) {
                if (nuevaCantidad <= 0) {
                    eliminarDelCarritoPrototipo(productoId);
                } else {
                    item.cantidad = nuevaCantidad;
                    localStorage.setItem('carrito', JSON.stringify(carritoPrototipo));
                    
                    // Actualizar badge
                    const badge = document.getElementById('carrito-badge');
                    if (badge) {
                        const totalItems = carritoPrototipo.reduce((total, item) => total + item.cantidad, 0);
                        badge.textContent = totalItems;
                    }
                    
                    // Re-renderizar carrito
                    renderizarCarritoPrototipo();
                }
            }
        }
        
        function eliminarDelCarritoPrototipo(productoId) {
            let carritoPrototipo = JSON.parse(localStorage.getItem('carrito')) || [];
            carritoPrototipo = carritoPrototipo.filter(item => item.id_producto !== productoId);
            localStorage.setItem('carrito', JSON.stringify(carritoPrototipo));
            
            // Actualizar badge
            const badge = document.getElementById('carrito-badge');
            if (badge) {
                const totalItems = carritoPrototipo.reduce((total, item) => total + item.cantidad, 0);
                badge.textContent = totalItems;
                badge.style.display = totalItems > 0 ? 'inline' : 'none';
            }
            
            // Re-renderizar carrito
            renderizarCarritoPrototipo();
        }
        
        function obtenerTotalCarritoPrototipo() {
            const carritoPrototipo = JSON.parse(localStorage.getItem('carrito')) || [];
            return carritoPrototipo.reduce((total, item) => total + (item.precio_unitario * item.cantidad), 0);
        }
        
        function limpiarCarritoPrototipo() {
            localStorage.setItem('carrito', JSON.stringify([]));
            
            // Actualizar badge
            const badge = document.getElementById('carrito-badge');
            if (badge) {
                badge.textContent = '0';
                badge.style.display = 'none';
            }
            
            // Re-renderizar carrito
            renderizarCarritoPrototipo();
        }
        
        // Funciones globales para uso en HTML
        window.actualizarCantidadPrototipo = actualizarCantidadPrototipo;
        window.eliminarDelCarritoPrototipo = eliminarDelCarritoPrototipo;
        window.limpiarCarritoPrototipo = limpiarCarritoPrototipo;
        window.renderizarCarritoPrototipo = renderizarCarritoPrototipo;
    </script>
</body>

</html>
